<BackgroundColor>:
    background_color: 0, 0, 0, 1
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<StyledButton@Button+BackgroundColor>:
    font_size: self.size[1] * 0.6
    background_color: 0.23, 0.30, 0.35, 1
    bold: True
    border: 4, 4, 4, 4
    color: 0.95, 0.95, 0.95, 1

<StyledActionButton@ActionButton>:
    font_size: self.size[1] * 0.6
    bold: True
    border: 4, 4, 4, 4
    color: 0.95, 0.95, 0.95, 1

<StyledLabel@Label+BackgroundColor>:
    font_size: self.size[1] * 0.6
    background_color: 0.95, 0.95, 0.95, 1
    color: 0, 0, 0, 1
    text_size: self.size
    halign: 'center'
    valign: 'middle'

<BoardPanelWidget>:
    config: app.config
    manager: app.manager

<MenuPanelWidget>:
    orientation: "horizontal"
    background_color: 0.23, 0.30, 0.35, 1

    StyledActionButton:
        text: "+"
        size_hint: 0.1, 1
    Label:
        size_hint: 0.9, 1

<ControlsPanelWidget>:
    orientation: "vertical"
    background_color: 0.23, 0.30, 0.35, 1
	num_move_label: num_move_label
    pass_btn: pass_btn
    manager: app.manager

    Label:
        size_hint: 1, 0.15
    BoxLayout:
        orientation: "horizontal"
        size_hint: 1, 0.7
        Label:
            size_hint: 0.2, 1
        StyledActionButton:
            id: pass_btn
            size_hint: 0.15, 1
            text: "Pass"
            on_release: root.play_pass()
        Label:
            size_hint: 0.1, 1
        StyledActionButton:
            size_hint: 0.1, 1
            text: "|<"
            on_release: root.undo(999)
        Label:
            size_hint: 0.025, 1
        StyledActionButton:
            size_hint: 0.1, 1
            text: "<"
            on_release: root.undo()
        Label:
            size_hint: 0.025, 1
        StyledLabel:
            id: num_move_label
            size_hint: 0.1, 1
            text: "0"
        Label:
            size_hint: 0.025, 1
        StyledActionButton:
            size_hint: 0.1, 1
            text: ">"
            on_release: root.redo()
        Label:
            size_hint: 0.025, 1
        StyledActionButton:
            size_hint: 0.1, 1
            text: ">|"
            on_release: root.redo(999)
        Label:
            size_hint: 0.35, 1
        StyledActionButton:
            size_hint: 0.1, 1
            text: "="
            on_release: root.reset_and_swap()
    Label:
        size_hint: 1, 0.15

<InfoPanelWidget>:
    opacity: 1
    orientation: "vertical"
    background_color: 0.15, 0.3, 0.4, 1

    StyledLabel:
        text: "black"
        color: 0.05, 0.05, 0.05, 1
        size_hint: 1, 0.1
        background_color: 0.15, 0.3, 0.4, 1
    StyledLabel:
        text: "white"
        color: 0.95, 0.95, 0.95, 1
        size_hint: 1, 0.1
        background_color: 0.15, 0.3, 0.4, 1
    Label:
        size_hint: 1, 0.8
        background_color: 0.15, 0.3, 0.4, 1

<GamePanelWidget>:
    orientation: "horizontal"
    background_color: 0.37, 0.5, 0.7, 1
    board_panel: board_panel
    config: app.config

    BoxLayout:
        orientation: "vertical"
        size_hint: 0.8, 1
        MenuPanelWidget:
            size_hint: 1, 0.05
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.9
            Label:
                size_hint: 0.05, 1
            BoardPanelWidget:
                id: board_panel
                size_hint: 0.9, 1
                board: root.board
                tree: root.tree
                engine: root.engine
            Label:
                size_hint: 0.05, 1
        ControlsPanelWidget:
            size_hint: 1, 0.05
            board: root.board
            tree: root.tree
            engine: root.engine
    InfoPanelWidget:
        size_hint: 0.2, 1

<SelectBar@BoxLayout>:
    orientation: "horizontal"
    type: "int"
    step: 1
    left_btn: left_btn
    value_label: value_label
    right_btn: right_btn
    StyledActionButton:
        id: left_btn
        text: "<"
        size_hint: 0.25, 1
        color: 0.05, 0.05, 0.05
        on_release:
            val = int(value_label.text) if root.type == "int" else float(value_label.text)
            val -= root.step
            value_label.text = str(val)
    StyledLabel:
        id: value_label
        text: "0"
        size_hint: 0.5, 1
    StyledActionButton:
        id: right_btn
        text: ">"
        size_hint: 0.25, 1
        color: 0.05, 0.05, 0.05
        on_release:
            val = int(value_label.text) if root.type == "int" else float(value_label.text)
            val += root.step
            value_label.text = str(val)

<GameSettingWidget>:
    background_color: 0.157, 0.455, 0.753, 1
    orientation: "horizontal"
    board_size_bar: board_size_bar
    komi_bar: komi_bar
    config: app.config

    Label:
        size_hint: 0.25, 1
    BoxLayout:
        orientation: "vertical"
        size_hint: 0.5, 1
        Label:
            size_hint: 1, 0.4
        SelectBar:
            id: board_size_bar
            size_hint: 1, 0.1
        Label:
            size_hint: 1, 0.05
        SelectBar:
            id: komi_bar
            type: "float"
            step: 0.5
            size_hint: 1, 0.1
        Label:
            size_hint: 1, 0.05
        StyledButton:
            size_hint: 1, 0.1
            text: "Confirm"
            on_release: root.confirm_and_back()
        Label:
            size_hint: 1, 0.05
        StyledButton:
            size_hint: 1, 0.1
            text: "Cancel"
            on_release: root.back_only()
        Label:
            size_hint: 1, 0.4
    Label:
        size_hint: 0.25, 1
